!function(){class e extends THREE.Object3D{constructor(e){super(),this.isSVGObject=!0,this.node=e}}THREE.SVGObject=e,THREE.SVGRenderer=class{constructor(){let f,m,u,t,o,x,g,w,b,R,i,r=0,n=null,s=1,M,T;const H=this,z=new THREE.Box2,C=new THREE.Box2,k=new THREE.Color,L=new THREE.Color,P=new THREE.Color,j=new THREE.Color,B=new THREE.Color,a=new THREE.Color,V=new THREE.Vector3,G=new THREE.Vector3,A=new THREE.Vector3,W=new THREE.Matrix3,F=new THREE.Matrix4,N=new THREE.Matrix4,c=[],Q=new THREE.Projector,O=document.createElementNS("http://www.w3.org/2000/svg","svg");function J(){for(r=0;0<O.childNodes.length;)O.removeChild(O.childNodes[0])}function D(e){return null!==n?e.toFixed(n):e}function I(e,i,t){var o=i.x-e.x,r=i.y-e.y,n=o*o+r*r;0!=n&&(r*=t=t/Math.sqrt(n),i.x+=o*=t,i.y+=r,e.x-=o,e.y-=r)}function q(e,i){T===e?M+=i:(K(),T=e,M=i)}function K(){var e;M&&((i=(e=r++,null==c[e]&&(c[e]=document.createElementNS("http://www.w3.org/2000/svg","path"),0==s)&&c[e].setAttribute("shape-rendering","crispEdges"),c[e])).setAttribute("d",M),i.setAttribute("style",T),O.appendChild(i)),M="",T=""}this.domElement=O,this.autoClear=!0,this.sortObjects=!0,this.sortElements=!0,this.overdraw=.5,this.info={render:{vertices:0,faces:0}},this.setQuality=function(e){switch(e){case"high":s=1;break;case"low":s=0}},this.setClearColor=function(e){a.set(e)},this.setPixelRatio=function(){},this.setSize=function(e,i){t=e,o=i,x=t/2,g=o/2,O.setAttribute("viewBox",-x+" "+-g+" "+t+" "+o),O.setAttribute("width",t),O.setAttribute("height",o),z.min.set(-x,-g),z.max.set(x,g)},this.getSize=function(){return{width:t,height:o}},this.setPrecision=function(e){n=e},this.clear=function(){J(),O.style.backgroundColor=a.getStyle()},this.render=function(e,i){if(i instanceof THREE.Camera==!1)console.error("THREE.SVGRenderer.render: camera is not an instance of THREE.Camera.");else{var t=e.background,o=(t&&t.isColor?(J(),O.style.backgroundColor=t.getStyle()):!0===this.autoClear&&this.clear(),H.info.render.vertices=0,H.info.render.faces=0,F.copy(i.matrixWorldInverse),N.multiplyMatrices(i.projectionMatrix,F),f=Q.projectScene(e,i,this.sortObjects,this.sortElements),m=f.elements,u=f.lights,W.getNormalMatrix(i.matrixWorldInverse),u);P.setRGB(0,0,0),j.setRGB(0,0,0),B.setRGB(0,0,0);for(let e=0,i=o.length;e<i;e++){var r=o[e],n=r.color;r.isAmbientLight?(P.r+=n.r,P.g+=n.g,P.b+=n.b):r.isDirectionalLight?(j.r+=n.r,j.g+=n.g,j.b+=n.b):r.isPointLight&&(B.r+=n.r,B.g+=n.g,B.b+=n.b)}M="",T="";for(let e=0,i=m.length;e<i;e++){var s=m[e],a=s.material;if(void 0!==a&&0!==a.opacity)if(C.makeEmpty(),s instanceof THREE.RenderableSprite){(w=s).x*=x,w.y*=-g;{c=void 0;l=void 0;d=void 0;var c=w;var l=s;var d=a;let e=l.scale.x*x,i=l.scale.y*g;d.isPointsMaterial&&(e*=d.size,i*=d.size);l="M"+D(c.x-.5*e)+","+D(c.y-.5*i)+"h"+D(e)+"v"+D(i)+"h"+D(-e)+"z";let t="";(d.isSpriteMaterial||d.isPointsMaterial)&&(t="fill:"+d.color.getStyle()+";fill-opacity:"+d.opacity);q(t,l)}}else if(s instanceof THREE.RenderableLine){if(w=s.v1,b=s.v2,w.positionScreen.x*=x,w.positionScreen.y*=-g,b.positionScreen.x*=x,b.positionScreen.y*=-g,C.setFromPoints([w.positionScreen,b.positionScreen]),!0===z.intersectsBox(C)){l=d=c=void 0;c=w,d=b,l=a;if(c="M"+D(c.positionScreen.x)+","+D(c.positionScreen.y)+"L"+D(d.positionScreen.x)+","+D(d.positionScreen.y),l.isLineBasicMaterial){let e="fill:none;stroke:"+l.color.getStyle()+";stroke-opacity:"+l.opacity+";stroke-width:"+l.linewidth+";stroke-linecap:"+l.linecap;q(e=l.isLineDashedMaterial?e+";stroke-dasharray:"+l.dashSize+","+l.gapSize:e,c)}}}else if(s instanceof THREE.RenderableFace&&(w=s.v1,b=s.v2,R=s.v3,!(w.positionScreen.z<-1||1<w.positionScreen.z||b.positionScreen.z<-1||1<b.positionScreen.z||R.positionScreen.z<-1||1<R.positionScreen.z||(w.positionScreen.x*=x,w.positionScreen.y*=-g,b.positionScreen.x*=x,b.positionScreen.y*=-g,R.positionScreen.x*=x,R.positionScreen.y*=-g,0<this.overdraw&&(I(w.positionScreen,b.positionScreen,this.overdraw),I(b.positionScreen,R.positionScreen,this.overdraw),I(R.positionScreen,w.positionScreen,this.overdraw)),C.setFromPoints([w.positionScreen,b.positionScreen,R.positionScreen]),!0!==z.intersectsBox(C))))){p=void 0;h=void 0;S=void 0;y=void 0;E=void 0;v=void 0;var p=w;var h=b;var S=R;var y=s;var E=a;H.info.render.vertices+=3,H.info.render.faces++;var v="M"+D(p.positionScreen.x)+","+D(p.positionScreen.y)+"L"+D(h.positionScreen.x)+","+D(h.positionScreen.y)+"L"+D(S.positionScreen.x)+","+D(S.positionScreen.y)+"z";let e="";E.isMeshBasicMaterial?(k.copy(E.color),E.vertexColors&&k.multiply(y.color)):E.isMeshLambertMaterial||E.isMeshPhongMaterial||E.isMeshStandardMaterial?(L.copy(E.color),E.vertexColors&&L.multiply(y.color),k.copy(P),G.copy(p.positionWorld).add(h.positionWorld).add(S.positionWorld).divideScalar(3),function(t,o,r,n){for(let e=0,i=t.length;e<i;e++){var s,a,c=t[e],l=c.color;c.isDirectionalLight?(s=V.setFromMatrixPosition(c.matrixWorld).normalize(),(s=r.dot(s))<=0||(s*=c.intensity,n.r+=l.r*s,n.g+=l.g*s,n.b+=l.b*s)):c.isPointLight&&(s=V.setFromMatrixPosition(c.matrixWorld),(a=r.dot(V.subVectors(s,o).normalize()))<=0||0!=(a*=0==c.distance?1:1-Math.min(o.distanceTo(s)/c.distance,1))&&(a*=c.intensity,n.r+=l.r*a,n.g+=l.g*a,n.b+=l.b*a))}}(u,G,y.normalModel,k),k.multiply(L).add(E.emissive)):E.isMeshNormalMaterial&&(A.copy(y.normalModel).applyMatrix3(W).normalize(),k.setRGB(A.x,A.y,A.z).multiplyScalar(.5).addScalar(.5));e=E.wireframe?"fill:none;stroke:"+k.getStyle()+";stroke-opacity:"+E.opacity+";stroke-width:"+E.wireframeLinewidth+";stroke-linecap:"+E.wireframeLinecap+";stroke-linejoin:"+E.wireframeLinejoin:"fill:"+k.getStyle()+";fill-opacity:"+E.opacity;q(e,v)}}K(),e.traverseVisible(function(e){var i,t;e.isSVGObject&&(V.setFromMatrixPosition(e.matrixWorld),V.applyMatrix4(N),V.z<-1||1<V.z||(i=V.x*x,t=-V.y*g,(e=e.node).setAttribute("transform","translate("+i+","+t+")"),O.appendChild(e)))})}}}}}();